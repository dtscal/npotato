@{
    var language = HttpContext.Current.Session["isCN"];
    var isCN = language == null || language.ToString() != false.ToString();
    ViewBag.Title = isCN ? "联系我们" : "Contact us";
    Layout = "~/Views/Shared/_Layout.cshtml";
    
}
@section home
{
    <style type="text/css">
        em { font-weight: bold; padding-right: 1em; vertical-align: top; }
em.error {
  background:url("/images/unchecked.gif") no-repeat 0px 0px;
  padding-left: 16px;
}
em.success {
  background:url("/images/checked.gif") no-repeat 0px 0px;
  padding-left: 16px;
}
   
label.error { float: none; color: red; padding-left: .5em; vertical-align: top; }
p { clear: both; }
    </style>
    <script src="/Scripts/jquery.form.js" type="text/javascript"></script>
    <script src="/Scripts/jquery.validate.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#myForm").validate({
                rules: {
                    Name: {
                        required: true,
                        minlength: 2
                    },
                    Email: {
                        required: true,
                        email: true
                    },
                    Content: "required",
                    code: {
                        required: true
                    }
                },

                messages: {
                    Name: {
                        required: '@(isCN?"请输入用户名":"Please enter Name"))',
                        minlength: '请至少输入两个字符'
                    },
                    Email: {
                        required: '@(isCN?"请输入电子邮件":"Please enter Email")',
                        email: '请检查电子邮件的格式'
                    },
                    Content: '@(isCN?"请输入内容":"Please enter Content")',
                    code: '@(isCN?"请输入验证码":"Please enter Code")'
                },

                errorElement: "em",				//用来创建错误提示信息标签
                success: function (label) {			//验证成功后的执行的回调函数
                    //label指向上面那个错误提示信息标签em
                    label.text(" ")				//清空错误提示消息
                        .addClass("success");	//加上自定义的success类
                }
            });
            $('#myForm').ajaxForm({
                
            });
        });
    </script>
    <!--百度地图-->
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.5&ak=uBsozQmzVkm70UPZsiuGDG51"></script>
}
<!-- start main -->
<div class="main_bg">
    <div class="wrap">
        <div class="main">
            <div class="contact">
                <div class="contact_info">
                    <h2>@(isCN ? "联系我们" : "Contact us")</h2>
                    <div id="map" class="map" style="width: 98%; height: 320px">
                    </div>
                    <script type="text/javascript">
                        var map = new BMap.Map("map");
                        var point = new BMap.Point(113.263488, 23.247425);
                        map.centerAndZoom(point, 18);


                        var marker = new BMap.Marker(point);  // 创建标注
                        map.addOverlay(marker);               // 将标注添加到地图中
                        marker.setAnimation(BMAP_ANIMATION_BOUNCE); //跳动的动画

                        var opts = {
                            position: point,    // 指定文本标注所在的地理位置
                            offset: new BMap.Size(30, -30)    //设置文本偏移量
                        };
                        var label = new BMap.Label("广州洛讯皮具有限公司", { offset: new BMap.Size(20, -10) });
                        marker.setLabel(label);

                        var top_left_control = new BMap.ScaleControl({ anchor: BMAP_ANCHOR_TOP_LEFT });// 左上角，添加比例尺
                        var top_left_navigation = new BMap.NavigationControl();  //左上角，添加默认缩放平移控件
                        var top_right_navigation = new BMap.NavigationControl({ anchor: BMAP_ANCHOR_TOP_RIGHT, type: BMAP_NAVIGATION_CONTROL_SMALL }); //右
                        map.addControl(top_left_control);
                        map.addControl(top_left_navigation);
                        map.addControl(top_right_navigation);
                    </script>
                </div>
                <div class="contact-form">
                    <h2>@(isCN ? "留言" : "Contact us")</h2>
                    <form id="myForm" action="/Review/Save" method="post"> 
                        <div>
                            <span>
                                <label>@(isCN ? "昵称" : "Name")&nbsp;<em>*</em></label></span>
                            <span>
                                <input name="Name" type="text" class="textbox"></span>
                        </div>
                        <div>
                            <span>
                                <label>@(isCN ? "电子邮件" : "E-mail")&nbsp;<em>*</em></label></span>
                            <span>
                                <input name="Email" type="text" class="textbox"></span>
                        </div>
                        <div>
                            <span>
                                <label>@(isCN ? "内容" : "Subject")&nbsp;<em>*</em></label></span>
                            <span>
                                <textarea name="Content"></textarea></span>
                        </div>
                        <div>
                            <span>
                                <label>@(isCN ? "验证码" : "Subject")&nbsp;<em>*</em></label></span>
                            <span>
                                <input name="code" type="text" class="textbox"><img src="/Home/ValidateCode/" style="cursor: pointer;" 
                                                    alt="点击刷新" onclick="this.src=this.src+'?';" /></span>
                        </div>
                        <div>
                            <span>
                                <input type="submit" id="bbbb" class="" value="@(isCN ? "感谢您" : "Submit us")"></span>
                        </div>
                        <div id="output1" ></div>
                    </form>
                    
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>
